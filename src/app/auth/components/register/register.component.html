<div class="p-10">
  <div class="flex justify-end">
    <a mat-icon-button aria-label="Tornar" routerLink="/login">
      <mat-icon>arrow_back</mat-icon>
    </a>
  </div>
  <form class="flex flex-col justify-center" [formGroup]="registerForm" (ngSubmit)="registerUser()">

    <h1>Registre</h1>

    <mat-form-field appearance="fill">
      <mat-label>Nom</mat-label>
      <input type="text" matInput [formControl]="name">
      <mat-error *ngIf="name.hasError('required')">
        El nom és <strong>obligatori</strong>
      </mat-error>
      <mat-error *ngIf="name.hasError('maxlength')">
        El nom ha de tenir menys de 50 caràcters
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Email</mat-label>
      <input type="email" matInput [formControl]="email" placeholder="Ex. pat@example.com">
      <mat-error *ngIf="email.hasError('pattern')">
        El correu no es valid
      </mat-error>
      <mat-error *ngIf="email.hasError('required')">
        El correu és <strong>obligatori</strong>
      </mat-error>
      <mat-error *ngIf="email.hasError('maxlength')">
        El correu ha de tenir menys de 50 caràcters
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Password</mat-label>
      <input type="password" matInput [formControl]="password">
      <mat-error *ngIf="password.hasError('required')">
        La contrasenya és <strong>obligatoria</strong>
      </mat-error>
      <mat-error *ngIf="password.hasError('minlength') || password.hasError('maxlength')">
        La contrasenya ha de tenir entre 8 i 16 caràcters
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Confirmació de la password</mat-label>
      <input type="password" matInput [formControl]="password_conf">
      <mat-error *ngIf="password_conf.hasError('required')">
        La contrasenya és <strong>obligatoria</strong>
      </mat-error>
      <mat-error *ngIf="password_conf.hasError('minlength') || password_conf.hasError('maxlength')">
        La contrasenya ha de tenir entre 8 i 16 caràcters
      </mat-error>
    </mat-form-field>

    <mat-error *ngIf="password_conf.touched && registerForm.hasError('match')">
      La contrasenya i la confirmació no son iguals
    </mat-error>

    <button mat-raised-button color="primary" type="submit" [disabled]="!registerForm.valid">Registrar-se</button>
  </form>
</div>